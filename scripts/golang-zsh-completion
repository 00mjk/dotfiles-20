#!/usr/bin/env zsh

set -eu
set -o pipefail

CURRDIR=$(cd "$(dirname $0)" && pwd -P)
source "${CURRDIR}/utils.sh"

echo "Installing zsh autocompletion"

ZSH_SITE_FUNCTIONS=/usr/local/share/zsh/site-functions

curl \
  'https://raw.githubusercontent.com/zsh-users/zsh-completions/master/src/_golang' \
  --location \
  --create-dirs \
  --time-cond "${ZSH_SITE_FUNCTIONS}/_golang" \
  --output "${ZSH_SITE_FUNCTIONS}/_golang"
